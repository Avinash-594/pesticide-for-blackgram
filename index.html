<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome To Avinash Pesticide Store | Premium Agro-Tech</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@300;500;700;800&display=swap');
        body { font-family: 'Manrope', sans-serif; overflow-x: hidden; }

        #video-bg {
            position: fixed;
            right: 0; bottom: 0;
            min-width: 100%; min-height: 100%;
            z-index: -10;
            object-fit: cover;
            filter: brightness(0.6);
        }
        
        #bg-overlay {
            position: fixed; 
            inset: 0; 
            background: rgba(0, 0, 0, 0.5); 
            z-index: -5; 
            backdrop-filter: blur(8px);
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        .product-card { transition: all 0.4s ease; background: white; border-radius: 2.5rem; }
        .product-card:hover { transform: translateY(-15px) scale(1.02); box-shadow: 0 30px 60px rgba(0,0,0,0.1); }

        .swiper-slide .animate-text { opacity: 0; transform: translateY(40px); transition: all 1s ease-out; }
        .swiper-slide-active .animate-text { opacity: 1; transform: translateY(0); }
        .delay-200 { transition-delay: 0.4s; }
        .delay-400 { transition-delay: 0.6s; }
    </style>
</head>
<body class="text-slate-900">

    <video autoplay muted loop playsinline id="video-bg">
        <source src="https://assets.mixkit.co/videos/preview/mixkit-cinematic-view-of-a-wheat-field-on-a-summer-afternoon-42362-large.mp4" type="video/mp4">
    </video>
    <div id="bg-overlay"></div>

    <section class="h-screen w-full relative">
        <div class="swiper mySwiper h-full w-full">
            <div class="swiper-wrapper">
                <div class="swiper-slide relative flex items-center justify-center">
                    <img src="https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=1920" class="absolute inset-0 w-full h-full object-cover opacity-60">
                    <div class="relative z-10 text-center space-y-6 max-w-4xl px-4">
                        <h1 class="animate-text text-7xl font-black tracking-tighter bg-gradient-to-r from-green-400 to-emerald-200 bg-clip-text text-transparent">Avinash Pesticide Store</h1>
                        <p class="animate-text delay-200 text-3xl font-medium text-white/90">India's Digital Partner for High-Yield Farming.</p>
                        <div class="animate-text delay-400 pt-8">
                             <a href="#shop-section" class="bg-green-600 hover:bg-green-500 text-white px-10 py-4 rounded-full font-bold text-xl shadow-lg transition-all">Explore Products</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

   <div id="shop-section" class="bg-slate-100/95 min-h-screen w-full relative z-10">
    
    <div class="sticky top-0 z-50 bg-slate-100/95 backdrop-blur-md pb-2 transition-all">
        <div class="max-w-[1600px] mx-auto px-4 md:px-8 pt-4">
            
            <div class="bg-green-900 p-2 md:p-3 rounded-2xl flex flex-col lg:flex-row gap-3 items-center justify-between border border-green-700 shadow-2xl">
                
                <div class="relative w-full lg:max-w-[180px]">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-green-800 w-3.5 h-3.5"></i>
                    <input type="text" id="productSearch" onkeyup="searchProducts()" placeholder="Search..." 
                        class="w-full bg-slate-200 border border-green-600 py-1.5 pl-9 pr-3 rounded-xl focus:bg-white focus:border-white outline-none font-bold transition-all text-slate-900 placeholder-slate-500 text-[11px]">
                </div>

                <div class="flex items-center gap-2 w-full lg:w-auto">
                    <button onclick="alert('Smart Advisor: Upload leaf photo coming soon!')" class="flex-1 lg:flex-none flex items-center justify-center gap-2 bg-green-700 hover:bg-green-600 text-white px-4 py-1.5 rounded-xl font-black transition-all active:scale-95 shadow-sm text-[10px] uppercase tracking-wider border border-green-500/30">
                        <i data-lucide="brain-circuit" class="w-3.5 h-3.5"></i>
                        <span class="whitespace-nowrap">Advisor</span>
                    </button>
                    <button onclick="showProcedure()" class="flex-1 lg:flex-none flex items-center justify-center gap-2 bg-green-700 hover:bg-green-600 text-white px-4 py-1.5 rounded-xl font-black transition-all active:scale-95 shadow-sm text-[10px] uppercase tracking-wider border border-green-500/30">
                        <i data-lucide="clipboard-list" class="w-3.5 h-3.5"></i>
                        <span class="whitespace-nowrap">Procedure</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-[1600px] mx-auto flex flex-col md:flex-row gap-10 p-8 pt-6">
        <aside class="w-full md:w-80 space-y-8">
            <div class="glass-panel p-8 rounded-[2.5rem] sticky top-20 text-slate-800">
                <div class="flex items-center gap-3 mb-8">
                    <i data-lucide="filter" class="text-green-600"></i>
                    <h2 class="text-xl font-black uppercase tracking-widest">Smart Filters</h2>
                </div>
                
                <div class="space-y-6">
                    <div>
                         <h3 class="text-sm font-bold text-green-600 uppercase mb-3">By Brand</h3>
                         <div class="flex flex-wrap gap-2" id="brand-filters"></div>
                    </div>
                    <div>
                        <h3 class="text-sm font-bold text-green-600 uppercase mb-3 mt-6">By Category</h3>
                        <div class="space-y-2 flex flex-col" id="cat-filters">
                            <button onclick="filterBy('category', 'All')" class="text-left py-2 px-4 rounded-xl hover:bg-black/5 font-bold transition-all">All Products</button>
                            <button onclick="filterBy('category', 'Nutrient')" class="text-left py-2 px-4 rounded-xl hover:bg-black/5 font-medium transition-all">Nutrients</button>
                            <button onclick="filterBy('category', 'Insecticide')" class="text-left py-2 px-4 rounded-xl hover:bg-black/5 font-medium transition-all">Insecticide</button>
                            <button onclick="filterBy('category', 'Fungicide')" class="text-left py-2 px-4 rounded-xl hover:bg-black/5 font-medium transition-all">Fungicide</button>
                            <button onclick="filterBy('category', 'Weed')" class="text-left py-2 px-4 rounded-xl hover:bg-black/5 font-medium transition-all">Weed Control</button>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        
        <main class="flex-1">
             <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </main>
    </div>
</div>
    <div id="cart-drawer" class="fixed bottom-8 right-8 z-50">
        <button onclick="toggleCart()" class="bg-green-600 hover:bg-green-500 text-white p-4 pr-6 rounded-full shadow-2xl flex items-center gap-4 border-2 border-green-400 scale-110">
            <div class="relative">
                 <i data-lucide="shopping-cart" class="w-8 h-8"></i>
                 <span id="cart-count" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center">0</span>
            </div>
            <span class="font-black text-2xl">₹<span id="final-total">0</span></span>
        </button>
        <div id="cart-items" class="hidden glass-panel absolute bottom-24 right-0 w-96 p-8 rounded-[2.5rem] text-slate-900 shadow-2xl">
            <h3 class="font-black text-2xl mb-6 flex justify-between items-center">Your Cart <i data-lucide="shopping-bag" class="text-green-600"></i></h3>
            <div id="cart-list" class="max-h-[40vh] overflow-y-auto space-y-4 mb-8"></div>
            <div class="border-t pt-4 mb-6 flex justify-between items-center font-black">
                <span>Total:</span>
                <span class="text-2xl text-green-600">₹<span id="cart-total-display">0</span></span>
            </div>
            <button onclick="checkoutWhatsApp()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-black uppercase tracking-widest shadow-lg">Order via WhatsApp</button>
        </div>
    </div>

    <div id="modal" class="hidden fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex items-center justify-center p-4">
        <div class="bg-white max-w-4xl w-full p-8 md:p-12 rounded-[3rem] relative shadow-2xl">
             <button onclick="closeModal()" class="absolute top-6 right-6 p-2 bg-gray-100 rounded-full hover:bg-red-50 hover:text-red-500 transition-all"><i data-lucide="x"></i></button>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        let allProducts = [];
        let cart = {}; 

        const csvData = `id,name,brand,category,size,price,usage,dosage_per_acre,image
1,Isabion,Syngenta,Nutrient,500ml,780,"Mix 40ml/15L tank. Apply 30-35 days after sowing.",500ml per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/syngenta/isobian.jpg
2,Alika,Syngenta,Insecticide,80ml,320,"Mix 8ml/15L tank. Best for sucking pests.",80ml per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/syngenta/Alika.jpg
3,Amistar Top,Syngenta,Fungicide,200ml,980,"Mix 20ml/15L tank. Prevents leaf spot disease.",200ml per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/syngenta/Amistar%20top.jpg
19,Nativo,Bayer,Fungicide,100g,770,"Controls Powdery Mildew. Improves grain shine.",100g per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/Bayer/nativo.jpg
32,Coragen,FMC,Insecticide,60ml,960,"Best for Pod Borer control. 20+ days protection.",60ml per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/fmc/coragen.jpg
33,Benevia,FMC,Insecticide,180ml,1510,"Stops sucking pests early stage.",240ml per acre,https://raw.githubusercontent.com/Avinash-594/pesticide-for-blackgram/main/images/fmc/benevia.jpg`;

        function initStore() {
            Papa.parse(csvData, {
                header: true, 
                skipEmptyLines: true,
                complete: (res) => {
                    allProducts = res.data;
                    populateBrands(allProducts);
                    renderProducts(allProducts);
                }
            });
            lucide.createIcons();
            new Swiper(".mySwiper", { speed: 1000, autoplay: { delay: 5000 }, effect: 'fade' });
        }

        function populateBrands(data) {
            const brands = [...new Set(data.map(p => p.brand))];
            const container = document.getElementById('brand-filters');
            container.innerHTML = `<button onclick="filterBy('brand', 'All')" class="px-4 py-2 bg-green-600 text-white rounded-xl text-xs font-black shadow-lg">All</button>`;
            brands.forEach(brand => {
                container.innerHTML += `<button onclick="filterBy('brand', '${brand}')" class="px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-800 rounded-xl text-xs font-bold transition-all ml-1">${brand}</button>`;
            });
        }

        function searchProducts() {
            const term = document.getElementById('productSearch').value.toLowerCase();
            const filtered = allProducts.filter(p => 
                p.name.toLowerCase().includes(term) || 
                p.brand.toLowerCase().includes(term) ||
                p.category.toLowerCase().includes(term)
            );
            renderProducts(filtered);
        }

        function renderProducts(data) {
            const grid = document.getElementById('product-grid');
            if(data.length === 0) {
                grid.innerHTML = '<p class="text-slate-500 text-xl col-span-full text-center">No products found.</p>';
                return;
            }
            grid.innerHTML = data.map(p => `
                <div class="product-card p-5 flex flex-col justify-between shadow-sm border border-slate-200">
                    <div class="bg-slate-50 rounded-[2rem] h-52 mb-5 flex items-center justify-center cursor-pointer relative overflow-hidden" onclick="showDetails('${p.id}')">
                        <img src="${p.image}" class="h-40 w-full object-contain mix-blend-multiply transition-all duration-500 hover:scale-110">
                        <div class="absolute top-4 right-4 bg-green-600 text-white text-[10px] px-3 py-1 rounded-full font-black uppercase">${p.brand}</div>
                    </div>
                    <div class="space-y-2 px-2">
                        <h3 class="text-2xl font-black text-slate-800 truncate">${p.name}</h3>
                        <div class="flex items-center gap-2">
                            <span class="text-xs text-green-600 font-bold bg-green-100 px-2 py-0.5 rounded-md">${p.size}</span>
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Acre: ${p.dosage_per_acre}</p>
                        </div>
                    </div>
                    <div class="flex justify-between items-end mt-6 px-2 border-t border-slate-100 pt-4">
                        <div>
                            <p class="text-xs text-slate-400 font-semibold uppercase">Price</p>
                            <span class="text-3xl font-black text-slate-900">₹${p.price}</span>
                        </div>
                        <button onclick="addToCart('${p.id}')" class="bg-green-600 text-white p-4 rounded-2xl hover:bg-black transition-all active:scale-95">
                            <i data-lucide="plus" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function filterBy(type, value) {
            const filtered = value === 'All' ? allProducts : allProducts.filter(p => p[type] === value);
            renderProducts(filtered);
        }

        function addToCart(id) {
            if (cart[id]) { cart[id].qty += 1; } 
            else { const product = allProducts.find(p => p.id === id); cart[id] = { ...product, qty: 1 }; }
            updateCartUI();
        }

        function removeFromCart(id) {
            if (cart[id]) { cart[id].qty -= 1; if (cart[id].qty <= 0) delete cart[id]; }
            updateCartUI();
        }

        function updateCartUI() {
            const items = Object.values(cart);
            const totalCount = items.reduce((sum, p) => sum + p.qty, 0);
            const totalPrice = items.reduce((sum, p) => sum + (Number(p.price) * p.qty), 0);
            document.getElementById('cart-count').innerText = totalCount;
            document.getElementById('final-total').innerText = totalPrice;
            document.getElementById('cart-total-display').innerText = totalPrice;
            const list = document.getElementById('cart-list');
            if (items.length === 0) { list.innerHTML = `<p class="text-center py-5 text-slate-400">Empty basket</p>`; return; }
            list.innerHTML = items.map(p => `
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-xl border border-slate-100">
                    <div class="flex-1">
                        <p class="font-black text-sm text-slate-800">${p.name}</p>
                        <p class="text-[10px] text-slate-400">₹${p.price} x ${p.qty}</p>
                    </div>
                    <div class="flex items-center gap-2 bg-white rounded-lg border px-1">
                        <button onclick="removeFromCart('${p.id}')" class="p-1 text-red-500"><i data-lucide="minus" class="w-3 h-3"></i></button>
                        <span class="text-sm font-bold">${p.qty}</span>
                        <button onclick="addToCart('${p.id}')" class="p-1 text-green-600"><i data-lucide="plus" class="w-3 h-3"></i></button>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function toggleCart() { document.getElementById('cart-items').classList.toggle('hidden'); }

        function showDetails(id) {
            const p = allProducts.find(prod => prod.id === id);
            const content = document.getElementById('modal-content');
            content.innerHTML = `
                <div class="flex flex-col md:flex-row gap-8 items-center text-slate-800">
                    <div class="bg-slate-50 p-6 rounded-[2rem]"><img src="${p.image}" class="h-64 object-contain mix-blend-multiply"></div>
                    <div class="flex-1 space-y-4">
                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-black uppercase">${p.brand}</span>
                        <h2 class="text-4xl font-black">${p.name}</h2>
                        <div class="bg-yellow-50 p-6 rounded-2xl border border-yellow-100">
                            <h4 class="font-black text-yellow-700 text-xs uppercase mb-2">Usage Guide</h4>
                            <p class="text-sm font-bold text-yellow-900">${p.usage}</p>
                            <p class="text-sm text-yellow-700 mt-2 font-black">Dosage: ${p.dosage_per_acre}</p>
                        </div>
                        <div class="flex items-center justify-between pt-4 border-t border-slate-100">
                            <span class="text-4xl font-black text-green-600">₹${p.price}</span>
                            <button onclick="addToCart('${p.id}'); closeModal();" class="bg-slate-900 text-white px-8 py-4 rounded-xl font-black uppercase shadow-lg hover:bg-green-600 transition-all">Add to basket</button>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('modal').classList.remove('hidden');
            lucide.createIcons();
        }

        function showProcedure() {
            const content = document.getElementById('modal-content');
            content.innerHTML = `
                <div class="space-y-6">
                    <h2 class="text-4xl font-black text-slate-800">Blackgram Best Procedure</h2>
                    <p class="text-slate-500 font-bold italic">Follow this scientific schedule for maximum yield and disease protection.</p>
                    <div class="overflow-hidden rounded-3xl border border-slate-200">
                        <table class="w-full text-left">
                            <thead class="bg-green-600 text-white">
                                <tr>
                                    <th class="p-4 font-black">Stage (Days)</th>
                                    <th class="p-4 font-black">Target Problems</th>
                                    <th class="p-4 font-black">Best Medicine</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-slate-100">
                                <tr class="hover:bg-green-50">
                                    <td class="p-4 font-bold">15-20 Days</td>
                                    <td>Sucking Pests & Growth</td>
                                    <td>Alika + Actara</td>
                                </tr>
                                <tr class="hover:bg-green-50">
                                    <td class="p-4 font-bold">30-35 Days</td>
                                    <td>Flower Drop & Pod Borer</td>
                                    <td>Isabion + Ampligo</td>
                                </tr>
                                <tr class="hover:bg-green-50">
                                    <td class="p-4 font-bold">45-50 Days</td>
                                    <td>Yellow Mosaic & Leaf Spot</td>
                                    <td>Nativo + Amistar Top</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="p-4 bg-blue-50 border border-blue-100 rounded-2xl text-blue-800 text-xs font-bold">
                        Tip: Always spray in the early morning or evening. Avoid spraying in extreme heat.
                    </div>
                </div>
            `;
            document.getElementById('modal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeModal() { document.getElementById('modal').classList.add('hidden'); }

        function checkoutWhatsApp() {
            const items = Object.values(cart);
            if(items.length === 0) return alert("Basket is empty!");
            let msg = "*ORDER FROM AVINASH STORE*%0A%0A";
            items.forEach((p, i) => { msg += `${i+1}. *${p.name}* (${p.size}) x ${p.qty} = ₹${p.price * p.qty}%0A`; });
            msg += `%0A*TOTAL: ₹${document.getElementById('final-total').innerText}*`;
            window.open(`https://wa.me/919876543210?text=${msg}`, '_blank');
        }

        initStore();
    </script>
</body>
</html>
