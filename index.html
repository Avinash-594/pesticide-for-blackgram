<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Farmer Agro Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:#f4f8f4;
  color:#1f2937;
}

/* ---------- HERO ---------- */
.hero{
  background:linear-gradient(to right,#d9f99d,#ecfeff);
  padding:70px 8%;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.hero h1{
  font-size:3rem;
  color:#14532d;
}
.hero p{
  font-size:1.1rem;
  max-width:500px;
}
.hero img{
  width:380px;
  animation:float 4s ease-in-out infinite;
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-12px)}
}

/* ---------- UPLOAD ---------- */
.upload{
  text-align:center;
  margin:30px;
}
.upload input{
  padding:12px;
  border:2px dashed #22c55e;
  background:white;
}

/* ---------- LAYOUT ---------- */
.main{
  display:grid;
  grid-template-columns:220px 1fr 220px;
  gap:20px;
  padding:20px;
}

/* ---------- SIDE ---------- */
.side{
  background:white;
  padding:15px;
  border-radius:16px;
  box-shadow:0 15px 30px rgba(0,0,0,.08);
}
.side h3{
  color:#166534;
}
.side div{
  padding:8px;
  cursor:pointer;
}
.side div:hover{
  background:#dcfce7;
}

/* ---------- PRODUCTS ---------- */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}

/* ---------- CARD ---------- */
.card{
  background:white;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
  overflow:hidden;
  transition:.4s;
}
.card:hover{
  transform:translateY(-10px) scale(1.03);
}
.card img{
  width:100%;
  height:180px;
  object-fit:contain;
  background:#f9fafb;
}
.card .info{
  padding:15px;
}
.price{
  color:#16a34a;
  font-weight:bold;
  margin:8px 0;
}
.card button{
  width:100%;
  padding:10px;
  border:none;
  background:#22c55e;
  color:white;
  border-radius:10px;
  cursor:pointer;
}

/* ---------- FOOTER ---------- */
footer{
  text-align:center;
  padding:20px;
  color:#4b5563;
}
</style>
</head>

<body>

<!-- HERO -->
<section class="hero">
  <div>
    <h1>Agro Products for Farmers</h1>
    <p>All pesticide brands, categories and prices in one place</p>
  </div>
  <img src="tractor.png">
</section>

<!-- CSV UPLOAD -->
<div class="upload">
  <h3>Upload ferti CSV</h3>
  <input type="file" accept=".csv" onchange="loadCSV(event)">
</div>

<!-- MAIN -->
<div class="main">
  <div class="side" id="brands"><h3>Brands</h3></div>
  <div class="products" id="products"></div>
  <div class="side" id="categories"><h3>Categories</h3></div>
</div>

<footer>© Farmer Friendly Agro Store</footer>

<script>
let data=[], currentBrand="", currentCategory="";

function loadCSV(e){
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = ()=>parseCSV(reader.result);
  reader.readAsText(file);
}

function parseCSV(text){
  const rows = text.trim().split("\n").slice(1);
  data = rows.map(r=>{
    const [brand,category,name,price,image]=r.split(",");
    return {brand,category,name,price,image};
  });
  renderFilters();
  renderProducts();
}

function renderFilters(){
  brands.innerHTML="<h3>Brands</h3>";
  categories.innerHTML="<h3>Categories</h3>";

  [...new Set(data.map(d=>d.brand))].forEach(b=>{
    brands.innerHTML+=`<div onclick="currentBrand='${b}';renderProducts()">${b}</div>`;
  });

  [...new Set(data.map(d=>d.category))].forEach(c=>{
    categories.innerHTML+=`<div onclick="currentCategory='${c}';renderProducts()">${c}</div>`;
  });
}

function renderProducts(){
  products.innerHTML="";
  data.filter(d=>
    (!currentBrand || d.brand===currentBrand) &&
    (!currentCategory || d.category===currentCategory)
  ).forEach(p=>{
    products.innerHTML+=`
      <div class="card">
        <img src="${p.image}">
        <div class="info">
          <h4>${p.name}</h4>
          <small>${p.brand} • ${p.category}</small>
          <div class="price">₹${p.price}</div>
          <button>Buy</button>
        </div>
      </div>`;
  });
}
</script>

</body>
</html>
