<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Avinash Pesticide Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:#f4f8f4;
  color:#1f2937;
}
header{
  background:linear-gradient(120deg,#22c55e,#15803d);
  color:white;
  padding:70px 20px;
  text-align:center;
}
header h1{font-size:3rem;}
header p{font-size:1.2rem;opacity:.9}

.filters{
  display:flex;
  gap:15px;
  justify-content:center;
  margin:30px;
}
select{
  padding:12px;
  border-radius:10px;
  border:1px solid #ccc;
}

.products{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;
  padding:20px;
}

.card{
  background:white;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
  overflow:hidden;
  transition:.4s;
}
.card:hover{
  transform:translateY(-10px) scale(1.03);
}
.card img{
  width:100%;
  height:180px;
  object-fit:contain;
  background:#f9fafb;
}
.card .info{
  padding:15px;
}
.price{
  font-size:1.4rem;
  color:#16a34a;
  font-weight:bold;
}
button{
  width:100%;
  margin-top:10px;
  padding:12px;
  border:none;
  background:#25D366;
  color:white;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
}

footer{
  text-align:center;
  padding:30px;
  color:#555;
}
</style>
</head>

<body>

<header>
  <h1>Avinash Pesticide Store</h1>
  <p>Trusted Agro Products for Every Farmer ðŸŒ¾</p>
</header>

<div class="filters">
  <select id="brandFilter">
    <option value="All">All Brands</option>
  </select>

  <select id="categoryFilter">
    <option value="All">All Categories</option>
  </select>
</div>

<div class="products" id="products"></div>

<footer>
  Â© 2025 Avinash Pesticide Store
</footer>

<script>
let allData=[];

fetch("products.csv?v="+Date.now())
.then(r=>r.text())
.then(text=>{
  const rows=text.trim().split("\n").slice(1);
  allData=rows.map(r=>{
    const [brand,category,name,price,image]=r.split(",");
    return {brand,category,name,price,image};
  });
  loadFilters();
  render(allData);
});

function loadFilters(){
  const brands=[...new Set(allData.map(p=>p.brand))];
  const cats=[...new Set(allData.map(p=>p.category))];

  brands.forEach(b=>{
    brandFilter.innerHTML+=`<option>${b}</option>`;
  });
  cats.forEach(c=>{
    categoryFilter.innerHTML+=`<option>${c}</option>`;
  });
}

brandFilter.onchange=categoryFilter.onchange=()=>{
  const b=brandFilter.value;
  const c=categoryFilter.value;

  render(allData.filter(p=>
    (b==="All"||p.brand===b) &&
    (c==="All"||p.category===c)
  ));
};

function render(data){
  products.innerHTML="";
  data.forEach(p=>{
    products.innerHTML+=`
      <div class="card">
        <img src="images/${p.image}">
        <div class="info">
          <h3>${p.name}</h3>
          <small>${p.brand} â€¢ ${p.category}</small>
          <div class="price">â‚¹${p.price}</div>
          <button onclick="order('${p.name}')">
            <i class="fa-brands fa-whatsapp"></i> Order
          </button>
        </div>
      </div>`;
  });
}

function order(name){
  window.open(
    "https://wa.me/91XXXXXXXXXX?text=I want to order "+name,
    "_blank"
  );
}
</script>

</body>
</html>
